# Core: жизненный цикл подключения (черновик)

Цель — описать минимальный жизненный цикл соединения для MVP.

## Состояния
1. **Idle** — приложение запущено, соединение не установлено.
2. **Connecting** — инициируется подключение.
3. **Connected** — соединение активно.
4. **Reconnecting** — автоматическая попытка восстановления.
5. **Failed** — превышены попытки или произошла ошибка, требующая вмешательства.

## Переходы
- `Idle → Connecting` по действию пользователя.
- `Connecting → Connected` при успешном установлении.
- `Connecting → Failed` при исчерпании попыток.
- `Connected → Reconnecting` при потере связи.
- `Reconnecting → Connected` при восстановлении.
- `Reconnecting → Failed` при исчерпании попыток.
- `Failed → Connecting` по действию пользователя.

## Минимальные события
- `OnConnectRequested`
- `OnConnected`
- `OnDisconnected`
- `OnReconnectAttempt`
- `OnFailed`

## Диагностика (минимум)
- причина ошибки подключения;
- количество попыток переподключения;
- время до восстановления (если удалось).
